
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="_static/logo_sq.svg" type="image/svg+xml">
    <title>Contributing &#8212; RosettaSciIO  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/custom-styles.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=d1c4098b"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'contributing';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release Notes" href="changes.html" />
    <link rel="prev" title="Utility functions" href="api/utils.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo_rec_oct22.svg" class="logo__image only-light" alt="RosettaSciIO  documentation - Home"/>
    <img src="_static/logo_rec_dark_oct22.svg" class="logo__image only-dark pst-js-only" alt="RosettaSciIO  documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="file_specification/index.html">
    File Specifications
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="supported_formats/index.html">
    Supported formats
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="api/index.html">
    API
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Contributing
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="changes.html">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/hyperspy/rosettasciio" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/hyperspy/hyperspy" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="file_specification/index.html">
    File Specifications
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="supported_formats/index.html">
    Supported formats
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="api/index.html">
    API
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Contributing
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="changes.html">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/hyperspy/rosettasciio" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/hyperspy/hyperspy" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Contributing</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">#</a></h1>
<p>RosettaSciIO is meant to be a community maintained project. We welcome contributions
in the form of bug reports, documentation, code (in particular <a class="reference internal" href="#defining-plugins"><span class="std std-ref">new io plugins</span></a>), feature requests, and more. In the following we refer to some
resources to help you make useful contributions.</p>
<section id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Link to this heading">#</a></h2>
<p>The <a class="reference external" href="https://github.com/hyperspy/rosettasciio/issues">issue tracker</a> can be used to
report bugs or propose new features. When reporting a bug, the following is
useful:</p>
<ul class="simple">
<li><p>give a minimal example demonstrating the bug,</p></li>
<li><p>copy and paste the error traceback.</p></li>
</ul>
</section>
<section id="making-test-data-files">
<span id="making-test-files"></span><h2>Making test data files<a class="headerlink" href="#making-test-data-files" title="Link to this heading">#</a></h2>
<p>Test data files are typically generated using third party software, for example using a proprietary
software on a scientific instrument. These files are added to the <a class="reference external" href="https://en.wikipedia.org/wiki/Test_suite">test suite</a>
of RosettaSciIO to make sure that future code development will not introduce bugs or feature
regressions. It is important that the test data files area as small as possible to avoid working
with a repository that contains GBs of test data. Indeed, the test suite is made of severals hundreds of
test data files and this number of files will keep growing as new features and formats are added
to RosettaSciIO.</p>
<p>Users can contribute by generating these files on softwares they have access to and by making these
files available openly; then a RosettaSciIO developer will help with adding these data to the test suite.</p>
<p>What characterizes good test data files:</p>
<ul class="simple">
<li><p>Relevant features: the test data files do not need to contain any meaningful data, but they need to
cover as much as possible of the format functionalities.</p></li>
<li><p>Small size:</p>
<ul>
<li><p>Acquire minimum number of pixels or channels. In case of maps or spectrum images acquire a non-square grid
(e.g. “x” and “y” have different lengths).</p></li>
<li><p>If possible, generate data that contains no signal (e.g. zeros) as files containing only very few values will compress very well.</p></li>
</ul>
</li>
</ul>
</section>
<section id="pull-requests">
<h2>Pull Requests<a class="headerlink" href="#pull-requests" title="Link to this heading">#</a></h2>
<p>If you want to contribute to the RosettaSciIO source code, you can send us a
<a class="reference external" href="https://github.com/hyperspy/rosettasciio/pulls">pull request</a> against the <code class="docutils literal notranslate"><span class="pre">main</span></code>
branch. Small bug fixes are corrections to the user guide are typically a good
starting point. But don’t hesitate also for significant code contributions, such
as support for a new file format - if needed, we’ll help you to get the code ready
to common standards.</p>
<p>Please refer to the
<a class="reference external" href="http://hyperspy.org/hyperspy-doc/current/dev_guide/intro.html">HyperSpy developer guide</a>
in order to get started and for detailed contributing guidelines.</p>
<section id="lint">
<h3>Lint<a class="headerlink" href="#lint" title="Link to this heading">#</a></h3>
<p>To keep the code style consistent (and more readable), <a class="reference external" href="https://black.readthedocs.io/">black</a>
is used to check the code formatting. When the code doesn’t comply with the expected formatting,
the <a class="reference external" href="https://results.pre-commit.ci/latest/github/hyperspy/rosettasciio/main">pre-commit.ci build</a>
will fail. In practise, the code formatting can be fixed by installing <code class="docutils literal notranslate"><span class="pre">black</span></code> and running it on the
source code or by using <a class="reference internal" href="#pre-commit-hooks"><span class="std std-ref">pre-commit hooks</span></a>.
Alternatively, adding the message <code class="docutils literal notranslate"><span class="pre">pre-commit.ci</span> <span class="pre">autofix</span></code> in a pull request will push a commit with
the fixes using <a class="reference external" href="https://pre-commit.ci">pre-commit.ci</a>.</p>
</section>
<section id="adding-and-updating-test-data">
<span id="id1"></span><h3>Adding and Updating Test Data<a class="headerlink" href="#adding-and-updating-test-data" title="Link to this heading">#</a></h3>
<p>The test data are located in the corresponding subfolder of the <code class="docutils literal notranslate"><span class="pre">rsciio/tests/data</span></code> folder.
The test data are not packaged in the distribution files (wheel, sdist) to keep the packages
as small as possible in size. When running the test suite, the test data will be downloaded
from GitHub using pooch. When adding or updating test data, it is necessary to update the test
data registry.</p>
<p>To add or update test data:</p>
<ol class="arabic">
<li><p>use git as usual to add files to the repository.</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">rsciio.tests.registry.txt</span></code> by running
<a class="reference internal" href="api/utils.html#rsciio.tests.registry_utils.update_registry" title="rsciio.tests.registry_utils.update_registry"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_registry()</span></code></a> (Unix only):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rsciio.tests.registry_utils</span> <span class="kn">import</span> <span class="n">update_registry</span>

<span class="n">update_registry</span><span class="p">()</span>
</pre></div>
</div>
<p>On windows, you can use <a class="reference internal" href="#pre-commit-hooks"><span class="std std-ref">pre-commit.ci</span></a> by adding a message to
the pull request to update the registry.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The url used by pooch to download the test data can be set by the environment variable
<code class="docutils literal notranslate"><span class="pre">POOCH_BASE_URL</span></code>, otherwise, the default is to download the data from the
<a class="reference external" href="https://github.com/hyperspy/rosettasciio">hyperspy/rosettasciio</a> GitHub repository.</p>
</div>
</section>
<section id="review">
<h3>Review<a class="headerlink" href="#review" title="Link to this heading">#</a></h3>
<p>As quality assurance, to improve the code, and to ensure a generalized
functionality, pull requests need to be thoroughly reviewed by at least one
other member of the development team before being merged.</p>
</section>
<section id="pre-commit-hooks">
<span id="id2"></span><h3>Pre-commit Hooks<a class="headerlink" href="#pre-commit-hooks" title="Link to this heading">#</a></h3>
<p>Two pre-commit hooks are set up:</p>
<ul class="simple">
<li><p>Linting: run <code class="docutils literal notranslate"><span class="pre">black</span></code></p></li>
<li><p>Update test data registry (Unix only)</p></li>
</ul>
<p>These can be run locally by using <a class="reference external" href="https://pre-commit.com">pre-commit</a>.
Alternatively, the comment <code class="docutils literal notranslate"><span class="pre">pre-commit.ci</span> <span class="pre">autofix</span></code> can be added to a PR to fix the formatting
using <a class="reference external" href="https://pre-commit.ci">pre-commit.ci</a>.</p>
</section>
</section>
<section id="defining-new-rosettasciio-plugins">
<span id="defining-plugins"></span><h2>Defining new RosettaSciIO plugins<a class="headerlink" href="#defining-new-rosettasciio-plugins" title="Link to this heading">#</a></h2>
<p>Each read/write plugin resides in a separate directory, e.g. <code class="docutils literal notranslate"><span class="pre">spamandeggs</span></code> the
name of which should be descriptive of the file type/manufacturer/software. This
directory should contain the following files:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> – Defines the exposed API functions, <code class="docutils literal notranslate"><span class="pre">file_reader</span></code> and optionally <code class="docutils literal notranslate"><span class="pre">file_writer</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">._api</span> <span class="kn">import</span> <span class="n">file_reader</span><span class="p">,</span> <span class="n">file_writer</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;file_reader&quot;</span><span class="p">,</span>
    <span class="s2">&quot;file_writer&quot;</span><span class="p">,</span>
<span class="p">]</span>


<span class="k">def</span> <span class="fm">__dir__</span><span class="p">():</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">__all__</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">specifications.yaml</span></code> – The characteristics of the IO plugin in <em>yaml</em> format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;String&gt;</span><span class="w"> </span><span class="c1"># unique, concise, no whitespace; corresponding to directory name (e.g. ``spamandeggs``)</span>
<span class="nt">name_aliases</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">&lt;String&gt;</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># List of strings, may contain whitespaces (empty if no alias defined)</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;String&gt;</span>
<span class="nt">full_support</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Bool&gt;</span><span class="w">      </span><span class="c1"># Whether all the Hyperspy features are supported</span>
<span class="nt">file_extensions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Tuple of string&gt;</span><span class="w">  </span><span class="c1"># Recognised file extension</span>
<span class="nt">default_extension</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Int&gt;</span><span class="w">  </span><span class="c1"># Index of the extension that will be used by default</span>
<span class="nt">writes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Bool&gt;/[Nested list]</span><span class="w">  </span><span class="c1"># Writing capabilities</span>
<span class="c1"># if only limited dimensions are supported, the supported combinations of signal</span>
<span class="c1"># dimensions (sd) and navigation dimensions (nd) are given as list [[sd, nd], ...]</span>
<span class="nt">non_uniform_axis</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;Bool&gt;</span><span class="w">  </span><span class="c1"># Support for non-uniform axis</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">_api.py</span></code> – Python file that implements the actual reader. The IO functionality
should be interfaced with the following functions:</p>
<ul class="simple">
<li><p>A function called <code class="docutils literal notranslate"><span class="pre">file_reader</span></code> with at least one attribute: <code class="docutils literal notranslate"><span class="pre">filename</span></code>
that returns the <a class="reference internal" href="api/index.html#interfacing-api"><span class="std std-ref">standardized signal dictionary</span></a>.</p></li>
<li><p>(optional) A function called <code class="docutils literal notranslate"><span class="pre">file_writer</span></code> with at least two attributes:
<code class="docutils literal notranslate"><span class="pre">filename</span></code> and <code class="docutils literal notranslate"><span class="pre">signal</span></code> (a python dictionary) in that order.</p></li>
</ul>
</li>
</ul>
<p><strong>Tests</strong> covering the functionality of the plugin should be added to the
<code class="docutils literal notranslate"><span class="pre">tests</span></code> directory with the naming <code class="docutils literal notranslate"><span class="pre">test_spamandeggs.py</span></code> corresponsing to
the plugin residing in the directory <code class="docutils literal notranslate"><span class="pre">spamandeggs</span></code>. Data files for the tests
should be placed in a corresponding subdirectory - see the
<a class="reference internal" href="#adding-and-updating-test-data"><span class="std std-ref">Adding and Updating Test Data</span></a> section for more
information.</p>
<p><strong>Documentation</strong> should be added both as <strong>docstring</strong>, as well as to the <strong>user guide</strong>,
for which a corresponding <code class="docutils literal notranslate"><span class="pre">spamandeggs.rst</span></code> file should be created in the directory
<code class="docutils literal notranslate"><span class="pre">doc/user_guide/supported_formats/</span></code> and the format added to the lists in
<code class="docutils literal notranslate"><span class="pre">doc/user_guide/supported_formats/index.rst</span></code> and <code class="docutils literal notranslate"><span class="pre">doc/user_guide/supported_formats/supported_formats.rst</span></code>.</p>
<p>A few standard <em>docstring</em> components are provided by <code class="docutils literal notranslate"><span class="pre">rsciio._docstrings.py</span></code> and should
be used (see existing plugins).</p>
<p>The <em>docstrings</em> are automatically added in the <em>user guide</em> using the following lines</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">API functions</span>
<span class="gh">^^^^^^^^^^^^^</span>

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> rsciio.spamandeggs
   <span class="nc">:members:</span>
</pre></div>
</div>
<p>The <em>docstrings</em> follow <a class="reference external" href="https://numpydoc.readthedocs.io">Numpy docstring style</a>. The
links to RosettaSciIO API and other Sphinx documented API are checked when building the documentation
and broken links will raise warnings. In order to identify potentially broken links during pull
request review, the <a class="reference external" href="https://github.com/hyperspy/rosettasciio/actions/workflows/Documentation.yml">Documentation</a>
GitHub CI workflow is set to fail when the doc build raises warnings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is advisable to clone the files of an existing plugin when initiating a new
plugin.</p>
</div>
</section>
<section id="rosettasciio-version">
<h2>RosettaSciIO version<a class="headerlink" href="#rosettasciio-version" title="Link to this heading">#</a></h2>
<p>The version of RosettaSciIO is defined by <a class="reference external" href="https://setuptools-scm.readthedocs.io/">setuptools_scm</a>
and retrieve by <code class="docutils literal notranslate"><span class="pre">importlib.metadata</span></code> at runtime in case of user installation.</p>
<ul>
<li><p>Version at build time: the version is defined from the tag or the “distance from the tag”.</p></li>
<li><p>Version at runtime: use the version of the package (<code class="docutils literal notranslate"><span class="pre">sdist</span></code> or <code class="docutils literal notranslate"><span class="pre">wheel</span></code>), which would have been
defined at build time. At runtime, the version is obtained using importlib.metadata as follow:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">importlib.metadata</span> <span class="kn">import</span> <span class="n">version</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="n">version</span><span class="p">(</span><span class="s2">&quot;rosettasciio&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Version at runtime for editable installation: the version is defined from the tag or “the distance from the tag”.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To define the version in development installation or at build time, <code class="docutils literal notranslate"><span class="pre">setuptools_scm</span></code> uses
the git history with all commits, and shallow checkout will provide incorrect version.
For user installation in site-package, <code class="docutils literal notranslate"><span class="pre">setuptools_scm</span></code> is not used.</p>
</div>
</section>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">RosettaSciIO</span></code> strive to be easy to install with a minimum of dependencies and depends solely on
standard library modules, numpy and dask. Non-pure python (binaries) dependencies are optional for
the following reasons:</p>
<ul class="simple">
<li><p>provide maximum flexibility in usability and avoid forcing user to install library that they don’t need:
for user-cases, where only a file reader are necessary, it should be possible to install <code class="docutils literal notranslate"><span class="pre">RosettaSciIO</span></code>
without installing large or non-pure python dependencies, which are not always easy to install.</p></li>
<li><p>Some binaries dependencies are not supported for all python implementation (<code class="docutils literal notranslate"><span class="pre">pypy</span></code> or <code class="docutils literal notranslate"><span class="pre">pyodide</span></code>)
or for all platforms.</p></li>
</ul>
</section>
<section id="maintenance">
<h2>Maintenance<a class="headerlink" href="#maintenance" title="Link to this heading">#</a></h2>
<p>Please refer to the
<a class="reference external" href="http://hyperspy.org/hyperspy-doc/current/dev_guide/intro.html">HyperSpy developer guide</a>
for maintenance guidelines.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="api/utils.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Utility functions</p>
      </div>
    </a>
    <a class="right-next"
       href="changes.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Release Notes</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#issues">Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#making-test-data-files">Making test data files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pull-requests">Pull Requests</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lint">Lint</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-and-updating-test-data">Adding and Updating Test Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#review">Review</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-commit-hooks">Pre-commit Hooks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#defining-new-rosettasciio-plugins">Defining new RosettaSciIO plugins</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rosettasciio-version">RosettaSciIO version</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies">Dependencies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maintenance">Maintenance</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/contributing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2022, HyperSpy Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>